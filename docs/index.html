<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setup UMLS Metathesaurus in MySQL5.5 or Postgres • metathesaurus</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Setup UMLS Metathesaurus in MySQL5.5 or Postgres">
<meta property="og:description" content="Setup UMLS Metathesaurus in MySQL5.5 or
    Postgres. Metamorphosys can optionally be run from the console to
    customize UMLS Metathesaurus configurations prior to installation.  ">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">metathesaurus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/meerapatelmd/metathesaurus/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="metathesaurus-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#metathesaurus-" class="anchor"></a>metathesaurus <img src="reference/figures/logo.png" align="right" alt="" width="120">
</h1></div>
<p><a href="http://www.freepik.com">Designed by macrovector / Freepik</a></p>
<p>This package sets up an instance of the UMLS Metathesaurus in either the native MySQL5.5 or Postgres DBMS sourced from the RRF files downloaded and from <a href="https://www.nlm.nih.gov/research/umls/licensedcontent/umlsknowledgesources.html" class="uri">https://www.nlm.nih.gov/research/umls/licensedcontent/umlsknowledgesources.html</a>. The list of instantiated tables can be customized depending on user needs. These options include</p>
<ol>
<li>All MTH Tables</li>
<li>MRCONSO Table only<br>
</li>
<li>OMOP Only (MRCONSO, MRHIER, MRMAP, MRSMAP, MRSAT, AND MRREL)<br>
</li>
<li>English Only (Non-English Language Tables are excluded)</li>
</ol>
<p>All SQL scripts used in this package can be accessed at inst/sql to run directly in the client instead. If you’d like to run Metamorphosys to set configurations prior to installation, jump to <a href="#metamorphosys">Metamorphosys</a></p>
<div id="dependencies" class="section level2">
<h2 class="hasAnchor">
<a href="#dependencies" class="anchor"></a>Dependencies</h2>
<p>This package requires a connection by <code>RMySQL::dbConnect</code> or <code>DatabaseConnector::dbConnect</code> for MySQL and Postgres, respectively.</p>
</div>
<div id="related-r-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#related-r-packages" class="anchor"></a>Related R Packages</h2>
<ul>
<li>
<a href="https://github.com/meerapatelmd/metaorite/blob/master/README.md">metaorite</a> to query the instance.<br>
</li>
<li>
<a href="https://github.com/meerapatelmd/callMeMaybe/blob/master/README.md">callmemaybe</a> to make API Calls to the UMLS REST API.</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<pre><code><a href="https://devtools.r-lib.org//reference/remote-reexports.html">devtools::install_github("meerapatelmd/setupMetathesaurus")</a></code></pre>
</div>
<div id="prerequisites" class="section level2">
<h2 class="hasAnchor">
<a href="#prerequisites" class="anchor"></a>Prerequisites</h2>
<div id="mysql55" class="section level3">
<h3 class="hasAnchor">
<a href="#mysql55" class="anchor"></a>MySQL5.5</h3>
<ul>
<li><p>MySQL version 5.5 server can be installed via MacPorts (Prerequisites are most current XCode and XCode Command Line tools). More information at <a href="https://trac.macports.org/wiki/howto/MySQL" class="uri">https://trac.macports.org/wiki/howto/MySQL</a><br></p></li>
<li><p>/opt/local/etc/mysql55/my.cnf is a good place to customize your mysql55 installation<br></p></li>
<li><p>Socket: /opt/local/var/run/mysql55/mysqld.sock<br></p></li>
<li>
<p>Example of creating a database named <code>umls</code> using <code>root</code> as user:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>   <span class="st">```</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="at">   -mysql -u root -p  </span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">   -mysql&gt; CREATE DATABASE umls;  </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">   -mysql -u root -p --local-infile umls  </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">   -mysql&gt; SHOW PROCESSLIST</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">   </span><span class="st">```</span>  </span></code></pre></div>
</li>
</ul>
</div>
<div id="downloading-umls-files" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-umls-files" class="anchor"></a>Downloading UMLS Files</h3>
<ul>
<li>UMLS Metathesaurus Files can be downloaded at <a href="https://www.nlm.nih.gov/research/umls/knowledge_sources/metathesaurus/index.html" class="uri">https://www.nlm.nih.gov/research/umls/knowledge_sources/metathesaurus/index.html</a> and requires account setup.</li>
</ul>
</div>
</div>
</div>
<div id="notes" class="section level1">
<h1 class="hasAnchor">
<a href="#notes" class="anchor"></a>Notes</h1>
<ul>
<li>MySQL5.5 scripts are sourced from the the scripts packaged with the 2020AA download<br>
</li>
<li>Postgres scripts were forked from <a href="https://www.nlm.nih.gov/research/umls/implementation_resources/community/index.html" class="uri">https://www.nlm.nih.gov/research/umls/implementation_resources/community/index.html</a>
</li>
</ul>
</div>
<div id="metamorphosys" class="section level1">
<h1 class="hasAnchor">
<a href="#metamorphosys" class="anchor"></a>MetamorphoSys</h1>
<p>MetamorphoSys is the UMLS installation and customization java application for local installation of all of the UMLS Knowledge Sources (MTH, Semantic Network, and SPECIALIST Lexicon). Metamorphosys also supports the creation of custom subsets of the Metathesaurus to meet specific use cases.</p>
<p>A Full Release download at <a href="https://www.nlm.nih.gov/research/umls/licensedcontent/umlsknowledgesources.html" class="uri">https://www.nlm.nih.gov/research/umls/licensedcontent/umlsknowledgesources.html</a> is required to run Metamorphosys, at which point the user can select various specialized configurations desired in the MySQL or Postgres Tables, such as a specific set of source vocabularies. The total time estimations of downloading, configuring, and processing the Metathesaurus tables in this way is approximately 2-3 hours. To save time, the Metamorphosys step may be skipped if the user does not desire this type of customizability and the <code>UMLS Metathesaurus Files</code> can be downloaded directly at the link and used as the source files in lieu of the Full Release.</p>
<p><strong>Setup and Run Metamorphosys</strong></p>
<ul>
<li>Unpack the Full Release download<br>
</li>
<li>Unzip mmys.zip in the unpacked download and move unzipped contents into a root folder<br>
</li>
<li>Run <code>openMetamorphysis()</code> with path to <code>run_mac.sh</code> as the argument<br>
</li>
<li>If not yet installed, install UMLS Metamorphosys (current configurations are all English vocabularies available). Time estimations for installation are approximately 45 minutes-1 hour, but this depends on the configurations.<br>
</li>
<li>Run the remainder of setup using the path to the META/ output</li>
</ul>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the setupMetathesaurus project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/meerapatelmd/metathesaurus/">https://​github.com/​meerapatelmd/​metathesaurus/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/meerapatelmd/metathesaurus/issues">
    https://​github.com/​meerapatelmd/​metathesaurus/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>Apache License 2.0</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Meera Patel <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3401-3948" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Meera Patel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
